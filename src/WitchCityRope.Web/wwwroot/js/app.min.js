function showTooltip(e){const t=document.createElement("div");t.className="tooltip",t.textContent=e.target.getAttribute("data-tooltip"),document.body.appendChild(t);const o=e.target.getBoundingClientRect();t.style.top=o.top-t.offsetHeight-5+"px",t.style.left=o.left+(o.width-t.offsetWidth)/2+"px",t.classList.add("show"),e.target._tooltip=t}function hideTooltip(e){e.target._tooltip&&(e.target._tooltip.remove(),delete e.target._tooltip)}window.addScrollListener=e=>{let t=0,o=!1;function n(){const n=window.pageYOffset||document.documentElement.scrollTop,i=n>50;e.invokeMethodAsync("OnScroll",i),t=n,o=!1}window.addEventListener("scroll",function(){o||(window.requestAnimationFrame(n),o=!0)})},window.addClickOutsideListener=e=>{document.addEventListener("click",t=>{const o=document.querySelector(".user-menu");document.querySelector(".user-menu-btn");o&&!o.contains(t.target)&&e.invokeMethodAsync("OnClickOutside")})},window.copyToClipboard=e=>{navigator.clipboard.writeText(e).then(()=>{console.log("Copied to clipboard")}).catch(e=>{console.error("Failed to copy: ",e)})},window.initializeTooltips=()=>{document.querySelectorAll("[data-tooltip]").forEach(e=>{e.addEventListener("mouseenter",showTooltip),e.addEventListener("mouseleave",hideTooltip)})},window.autoResizeTextarea=e=>{e.style.height="auto",e.style.height=e.scrollHeight+"px"},document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("textarea[data-autoresize]").forEach(e=>{e.addEventListener("input",()=>window.autoResizeTextarea(e)),window.autoResizeTextarea(e)})}),window.trapFocus=e=>{const t=e.querySelectorAll('a[href], button, textarea, input[type="text"], input[type="radio"], input[type="checkbox"], select'),o=t[0],n=t[t.length-1];e.addEventListener("keydown",t=>{"Tab"===t.key&&(t.shiftKey?document.activeElement===o&&(n.focus(),t.preventDefault()):document.activeElement===n&&(o.focus(),t.preventDefault())),"Escape"===t.key&&e.dispatchEvent(new CustomEvent("modal-close"))}),o?.focus()},window.smoothScrollTo=e=>{const t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth",block:"start"})},window.formatCurrency=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),window.formatDate=(e,t="short")=>{const o="short"===t?{month:"short",day:"numeric"}:{weekday:"long",year:"numeric",month:"long",day:"numeric"};return new Date(e).toLocaleDateString("en-US",o)},window.printElement=e=>{const t=document.getElementById(e);if(!t)return;const o=window.open("","","height=600,width=800");o.document.write("<html><head><title>Print</title>"),o.document.write('<link rel="stylesheet" href="/css/wcr-theme.css">'),o.document.write('<link rel="stylesheet" href="/css/print.css">'),o.document.write("</head><body>"),o.document.write(t.innerHTML),o.document.write("</body></html>"),o.document.close(),o.onload=()=>{o.print(),o.close()}},window.downloadFile=(e,t)=>{const o=atob(t),n=new Array(o.length);for(let e=0;e<o.length;e++)n[e]=o.charCodeAt(e);const i=new Uint8Array(n),r=new Blob([i],{type:"text/plain"}),c=document.createElement("a");c.href=window.URL.createObjectURL(r),c.download=e,c.click(),setTimeout(()=>{window.URL.revokeObjectURL(c.href)},100)};